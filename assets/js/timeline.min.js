function showTimeline(){jQuery(document).ready(function(g){var n=g(".cd-horizontal-timeline"),l=60;(n.length>0)&&f(n);function f(v){v.each(function(){var x=g(this),y={};y.timelineWrapper=x.find(".events-wrapper");y.eventsWrapper=y.timelineWrapper.children(".events");y.fillingLine=y.eventsWrapper.children(".filling-line");y.timelineEvents=y.eventsWrapper.find("a");y.timelineDates=u(y.timelineEvents);y.eventsMinLapse=s(y.timelineDates);y.timelineNavigation=x.find(".cd-timeline-navigation");y.eventsContent=x.children(".events-content");p(y,l);var w=o(y,l);x.addClass("loaded");y.timelineNavigation.on("click",".next",function(z){z.preventDefault();q(y,w,"next")});y.timelineNavigation.on("click",".prev",function(z){z.preventDefault();q(y,w,"prev")});y.eventsWrapper.on("click","a",function(z){z.preventDefault();y.timelineEvents.removeClass("selected");g(this).addClass("selected");k(g(this));b(g(this),y.fillingLine,w);d(g(this),y.eventsContent)});y.eventsContent.on("swipeleft",function(){var z=m();(z=="mobile")&&e(y,w,"next")});y.eventsContent.on("swiperight",function(){var z=m();(z=="mobile")&&e(y,w,"prev")});g(document).keyup(function(z){if(z.which=="37"&&t(x.get(0))){e(y,w,"prev")}else{if(z.which=="39"&&t(x.get(0))){e(y,w,"next")}}})})}function q(y,x,w){var z=a(y.eventsWrapper),v=Number(y.timelineWrapper.css("width").replace("px",""));(w=="next")?r(y,z-v+l,v-x):r(y,z+v-l)}function e(B,z,w){var y=B.eventsContent.find(".selected"),v=(w=="next")?y.next():y.prev();if(v.length>0){var x=B.eventsWrapper.find(".selected"),A=(w=="next")?x.parent("li").next("li").children("a"):x.parent("li").prev("li").children("a");b(A,B.fillingLine,z);d(A,B.eventsContent);A.addClass("selected");x.removeClass("selected");k(A);h(w,A,B)}}function h(v,y,B){var A=window.getComputedStyle(y.get(0),null),z=Number(A.getPropertyValue("left").replace("px","")),C=Number(B.timelineWrapper.css("width").replace("px","")),x=Number(B.eventsWrapper.css("width").replace("px",""));var w=a(B.eventsWrapper);if((v=="next"&&z>C-w)||(v=="prev"&&z<-w)){r(B,-z+C/2,C-x)}}function r(y,x,w){var v=y.eventsWrapper.get(0);x=(x>0)?0:x;x=(!(typeof w==="undefined")&&x<w)?w:x;j(v,"translateX",x+"px");(x==0)?y.timelineNavigation.find(".prev").addClass("inactive"):y.timelineNavigation.find(".prev").removeClass("inactive");(x==w)?y.timelineNavigation.find(".next").addClass("inactive"):y.timelineNavigation.find(".next").removeClass("inactive")}function b(w,A,v){var z=window.getComputedStyle(w.get(0),null),y=z.getPropertyValue("left"),x=z.getPropertyValue("width");y=Number(y.replace("px",""))+Number(x.replace("px",""))/2;var B=y/v;j(A.get(0),"scaleX",B)}function p(w,v){for(i=0;i<w.timelineDates.length;i++){var y=c(w.timelineDates[0],w.timelineDates[i]),x=Math.round(y/w.eventsMinLapse)+2;w.timelineEvents.eq(i).css("left",x*v+"px")}}function o(z,x){var y=c(z.timelineDates[0],z.timelineDates[z.timelineDates.length-1]),w=y/z.eventsMinLapse,w=Math.round(w)+4,v=w*x;z.eventsWrapper.css("width",v+"px");b(z.eventsWrapper.find("a.selected"),z.fillingLine,v);h("next",z.eventsWrapper.find("a.selected"),z);return v}function d(B,C){var w=B.data("date"),z=C.find(".selected"),v=C.find('[data-date="'+w+'"]'),y=v.height();if(v.index()>z.index()){var x="selected enter-right",A="leave-left"}else{var x="selected enter-left",A="leave-right"}v.attr("class",x);z.attr("class",A).one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(){z.removeClass("leave-right leave-left");v.removeClass("enter-left enter-right")});C.css("height",y+"px")}function k(v){v.parent("li").prevAll("li").children("a").addClass("older-event").end().end().nextAll("li").children("a").removeClass("older-event")}function a(w){var x=window.getComputedStyle(w.get(0),null),v=x.getPropertyValue("-webkit-transform")||x.getPropertyValue("-moz-transform")||x.getPropertyValue("-ms-transform")||x.getPropertyValue("-o-transform")||x.getPropertyValue("transform");if(v.indexOf("(")>=0){var v=v.split("(")[1];v=v.split(")")[0];v=v.split(",");var y=v[4]}else{var y=0}return Number(y)}function j(v,x,w){v.style["-webkit-transform"]=x+"("+w+")";v.style["-moz-transform"]=x+"("+w+")";v.style["-ms-transform"]=x+"("+w+")";v.style["-o-transform"]=x+"("+w+")";v.style.transform=x+"("+w+")"}function u(v){var w=[];v.each(function(){var z=g(this),y=z.data("date").split("T");if(y.length>1){var B=y[0].split("/"),A=y[1].split(":")}else{if(y[0].indexOf(":")>=0){var B=["2000","0","0"],A=y[0].split(":")}else{var B=y[0].split("/"),A=["0","0"]}}var x=new Date(B[2],B[1]-1,B[0],A[0],A[1]);w.push(x)});return w}function c(w,v){return Math.round((v-w))}function s(w){var v=[];for(i=1;i<w.length;i++){var x=c(w[i-1],w[i]);v.push(x)}return Math.min.apply(null,v)}function t(x){var z=x.offsetTop;var y=x.offsetLeft;var w=x.offsetWidth;var v=x.offsetHeight;while(x.offsetParent){x=x.offsetParent;z+=x.offsetTop;y+=x.offsetLeft}return(z<(window.pageYOffset+window.innerHeight)&&y<(window.pageXOffset+window.innerWidth)&&(z+v)>window.pageYOffset&&(y+w)>window.pageXOffset)}function m(){return window.getComputedStyle(document.querySelector(".cd-horizontal-timeline"),"::before").getPropertyValue("content").replace(/'/g,"").replace(/"/g,"")}})};