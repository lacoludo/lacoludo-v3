jQuery(document).ready(function(f){var a=false,h=false,i=1;var k=f(".cd-side-navigation"),d=f(".cd-main"),j=f("#cd-loading-bar");k.on("click","a",function(o){o.preventDefault();var p=f(this),n=p.data("menu");if(!p.hasClass("selected")&&!a){b(n,true)}h=true});f(window).on("popstate",function(){if(h){var n=location.pathname.split("/"),o=n[n.length-1].replace(".html","");if(!a){b(o,false)}}h=true});d.on("click",".cd-scroll",function(o){o.preventDefault();var n=f(this.hash);f(n).velocity("scroll",{container:f(".cd-section")},200)});function b(o,n){a=true;o=(o=="")?"index":o;k.find('*[data-menu="'+o+'"]').addClass("selected").parent("li").siblings("li").children(".selected").removeClass("selected");l(o);e(o,n)}function l(r){var p=k.find(".selected"),q=p.outerHeight(),o=p.offset().top,t=f(window).height(),n=(o+q/2>t/2)?o:t-o-q,s=((2*n+q)/q).toFixed(3)/1+0.001;j.data("scale",s).css({height:q,top:o}).attr("class","").addClass("loading "+r)}function e(o,n){setTimeout(function(){c();var p=f('<section class="cd-section overflow-hidden '+o+'"></section>').appendTo(d);p.load(o+".html .cd-section > *",function(q){var r=j.data("scale");j.velocity("stop").velocity({scaleY:r},400,function(){p.prev(".visible").removeClass("visible").end().addClass("visible").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){g(p)});if(f(".no-csstransitions").length>0){g(p)}var s=o+".html";if(s!=window.location&&n){window.history.pushState({path:s},"",s)}})})},50)}function c(){var n=j.data("scale");if(i+1<n){i=i+1}else{if(i+0.5<n){i=i+0.5}}j.velocity({scaleY:i},100,c)}function g(n){n.removeClass("overflow-hidden").prev(".cd-section").remove();a=false;m()}function m(){j.removeClass("loading").velocity({scaleY:1},1)}});